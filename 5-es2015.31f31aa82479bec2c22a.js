(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7KxR":function(t,e,i){"use strict";i.r(e),i.d(e,"OAuthModule",function(){return f});var o=i("ofXK"),n=i("tyNb"),r=i("mrSG"),a=i("yTNM"),c=i("gvvY"),s=i("MaMc"),d=i("Ebwu"),l=i("sX8H"),u=i("fXoL"),p=i("qAbx");const h=[{path:"callback/:identityProvider",component:(()=>{class t{constructor(t,e,i,o,n,r,a){this.router=t,this.activatedRoute=e,this.apiService=i,this.localStorageService=o,this.toastService=n,this.stateService=r,this.window=a}ngOnInit(){return Object(r.a)(this,void 0,void 0,function*(){try{const t=this.activatedRoute.snapshot.queryParamMap.get("error");if(t)return console.error(t),void(yield this.router.navigate(["/login"]));const e=this.activatedRoute.snapshot.paramMap.get("identityProvider"),i=yield this.apiService.authenticateWithCode({grantType:`${e}_auth_code`,code:this.activatedRoute.snapshot.queryParamMap.get("code"),redirectUri:this.getRedirectUri(e),state:this.activatedRoute.snapshot.queryParamMap.get("state")});this.apiService.persistTokens(i)}catch(t){return console.error(t),void(yield this.router.navigate(["/login"]))}this.apiService.isAuthenticated=!0,yield this.stateService.init(),this.toastService.showSuccessToast("Successfully logged in"),yield this.router.navigate(["/"])})}getRedirectUri(t){return`${this.window.location.protocol}//${this.window.location.host}/oauth/callback/${t}`}}return t.\u0275fac=function(e){return new(e||t)(u.Kb(n.c),u.Kb(n.a),u.Kb(a.a),u.Kb(c.a),u.Kb(s.a),u.Kb(d.a),u.Kb(l.a))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-oauth"]],decls:4,vars:0,consts:[[2,"text-align","center","margin-top","4em"]],template:function(t,e){1&t&&(u.Qb(0,"div",0),u.Lb(1,"app-loading-state"),u.Lb(2,"br"),u.Ac(3," Authenticating ..\n"),u.Pb())},directives:[p.a],styles:["li[_ngcontent-%COMP%]{list-style-position:inside}.flex-container-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.flex-container-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center}.dropdown-menu[_ngcontent-%COMP%]{background-color:#2f3136;color:#cfd0d1}.dropdown-item[_ngcontent-%COMP%]{color:#cfd0d1}.dropdown-divider[_ngcontent-%COMP%]{border-top:1px solid #262629}.dropdown-item[_ngcontent-%COMP%]:focus, .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#262629}"]}),t})()}];let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({imports:[[n.f.forChild(h)],n.f]}),t})();var v=i("1kSV"),b=i("Fepa");let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({imports:[[o.c,g,v.b,b.a]]}),t})()}}]);